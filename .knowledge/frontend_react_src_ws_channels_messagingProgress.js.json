{"is_source_file": true, "format": "JavaScript", "description": "This file implements a messaging progress WebSocket channel with subscribe and unsubscribe support. It manages subscriptions for campaign progress updates, handling WebSocket connection setup, message sending, and dispatching received messages to registered callbacks.", "external_files": ["../wsClient", "../../utils/env"], "external_methods": ["getWSClientFromEnv", "getEnv"], "published": ["subscribe", "unsubscribe"], "classes": [], "methods": [{"name": "makeSubscribeMsg(campaignId)", "description": "Constructs a subscription message payload for a given campaignId.", "scope": "", "scopeKind": ""}, {"name": "makeUnsubscribeMsg(campaignId)", "description": "Constructs an unsubscription message payload for a given campaignId.", "scope": "", "scopeKind": ""}, {"name": "subscribe(campaignId, cb)", "description": "Subscribes to messaging progress updates for a specific campaignId, returns an unsubscribe function.", "scope": "", "scopeKind": ""}, {"name": "unsubscribe(campaignId)", "description": "Explicitly unsubscribes from messaging progress updates for a campaignId.", "scope": "", "scopeKind": ""}], "calls": ["getWSClientFromEnv()", "getEnv()", "wsClient.on()", "wsClient.send()"], "search-terms": ["messagingProgress WebSocket", "subscribe_progress", "unsubscribe_progress", "campaignId", "messaging_progress channel"], "state": 2, "file_id": 64, "knowledge_revision": 185, "git_revision": "58bb5561972f318cdbc83280dc81126fa310887f", "revision_history": [{"146": ""}, {"185": "58bb5561972f318cdbc83280dc81126fa310887f"}], "ctags": [{"_type": "tag", "name": "boundHandler", "path": "/home/kavia/workspace/code-generation/meta-whatsapp-messaging-suite-221679-221688/frontend_react/src/ws/channels/messagingProgress.js", "pattern": "/^let boundHandler = null;$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "makeSubscribeMsg", "path": "/home/kavia/workspace/code-generation/meta-whatsapp-messaging-suite-221679-221688/frontend_react/src/ws/channels/messagingProgress.js", "pattern": "/^function makeSubscribeMsg(campaignId) {$/", "language": "JavaScript", "kind": "function", "signature": "(campaignId)"}, {"_type": "tag", "name": "makeUnsubscribeMsg", "path": "/home/kavia/workspace/code-generation/meta-whatsapp-messaging-suite-221679-221688/frontend_react/src/ws/channels/messagingProgress.js", "pattern": "/^function makeUnsubscribeMsg(campaignId) {$/", "language": "JavaScript", "kind": "function", "signature": "(campaignId)"}, {"_type": "tag", "name": "subscribe", "path": "/home/kavia/workspace/code-generation/meta-whatsapp-messaging-suite-221679-221688/frontend_react/src/ws/channels/messagingProgress.js", "pattern": "/^export function subscribe(campaignId, cb) {$/", "language": "JavaScript", "kind": "function", "signature": "(campaignId, cb)"}, {"_type": "tag", "name": "subscribers", "path": "/home/kavia/workspace/code-generation/meta-whatsapp-messaging-suite-221679-221688/frontend_react/src/ws/channels/messagingProgress.js", "pattern": "/^const subscribers = new Map();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "unsubscribe", "path": "/home/kavia/workspace/code-generation/meta-whatsapp-messaging-suite-221679-221688/frontend_react/src/ws/channels/messagingProgress.js", "pattern": "/^export function unsubscribe(campaignId) {$/", "language": "JavaScript", "kind": "function", "signature": "(campaignId)"}, {"_type": "tag", "name": "wsClient", "path": "/home/kavia/workspace/code-generation/meta-whatsapp-messaging-suite-221679-221688/frontend_react/src/ws/channels/messagingProgress.js", "pattern": "/^let wsClient = null;$/", "language": "JavaScript", "kind": "variable"}], "hash": "134eae2dc08bda0490f4332f5679ee22", "format-version": 4, "code-base-name": "frontend_react", "filename": "frontend_react/src/ws/channels/messagingProgress.js", "fields": [{"name": "let boundHandler = null;", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "let wsClient = null;", "scope": "", "scopeKind": "", "description": "unavailable"}]}