{"is_source_file": true, "format": "JavaScript", "description": "This file implements a messaging progress channel using WebSocket. It provides functions to subscribe and unsubscribe to real-time progress updates for a specific campaignId, managing WebSocket client interactions and message handling.", "external_files": ["../wsClient", "../../utils/env"], "external_methods": ["getWSClient", "getEnv"], "published": ["subscribe", "unsubscribe"], "classes": [], "methods": [{"name": "makeSubscribeMsg(campaignId)", "description": "Constructs a subscription message to notify the server to start sending progress updates for a specified campaignId.", "scope": "", "scopeKind": ""}, {"name": "makeUnsubscribeMsg(campaignId)", "description": "Constructs an unsubscription message to notify the server to stop sending progress updates for a specified campaignId.", "scope": "", "scopeKind": ""}, {"name": "subscribe(campaignId, cb)", "description": "Public function to subscribe to progress updates for a campaignId; returns an unsubscribe function.", "scope": "", "scopeKind": ""}, {"name": "unsubscribe(campaignId)", "description": "Public function to explicitly unsubscribe from progress updates for a campaignId.", "scope": "", "scopeKind": ""}], "calls": ["getEnv", "getWSClient", "wsClient.on", "wsClient.send"], "search-terms": ["messagingProgressChannel", "WebSocketProgress", "subscribe_progress", "messaging_progress", "campaignId WebSocket"], "state": 2, "file_id": 64, "knowledge_revision": 146, "git_revision": "", "ctags": [{"_type": "tag", "name": "makeSubscribeMsg", "path": "/home/kavia/workspace/code-generation/meta-whatsapp-messaging-suite-221679-221688/frontend_react/src/ws/channels/messagingProgress.js", "pattern": "/^function makeSubscribeMsg(campaignId) {$/", "language": "JavaScript", "kind": "function", "signature": "(campaignId)"}, {"_type": "tag", "name": "makeUnsubscribeMsg", "path": "/home/kavia/workspace/code-generation/meta-whatsapp-messaging-suite-221679-221688/frontend_react/src/ws/channels/messagingProgress.js", "pattern": "/^function makeUnsubscribeMsg(campaignId) {$/", "language": "JavaScript", "kind": "function", "signature": "(campaignId)"}, {"_type": "tag", "name": "subscribe", "path": "/home/kavia/workspace/code-generation/meta-whatsapp-messaging-suite-221679-221688/frontend_react/src/ws/channels/messagingProgress.js", "pattern": "/^export function subscribe(campaignId, cb) {$/", "language": "JavaScript", "kind": "function", "signature": "(campaignId, cb)"}, {"_type": "tag", "name": "subscribers", "path": "/home/kavia/workspace/code-generation/meta-whatsapp-messaging-suite-221679-221688/frontend_react/src/ws/channels/messagingProgress.js", "pattern": "/^const subscribers = new Map();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "unsubscribe", "path": "/home/kavia/workspace/code-generation/meta-whatsapp-messaging-suite-221679-221688/frontend_react/src/ws/channels/messagingProgress.js", "pattern": "/^export function unsubscribe(campaignId) {$/", "language": "JavaScript", "kind": "function", "signature": "(campaignId)"}, {"_type": "tag", "name": "wsClient", "path": "/home/kavia/workspace/code-generation/meta-whatsapp-messaging-suite-221679-221688/frontend_react/src/ws/channels/messagingProgress.js", "pattern": "/^let wsClient = null;$/", "language": "JavaScript", "kind": "variable"}], "hash": "f2b90a652b4e98e3a4bde8f20f55ee5e", "format-version": 4, "code-base-name": "frontend_react", "filename": "frontend_react/src/ws/channels/messagingProgress.js", "fields": [{"name": "let wsClient = null;", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"146": ""}]}