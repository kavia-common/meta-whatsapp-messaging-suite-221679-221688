{"is_source_file": true, "format": "JavaScript (React / JSX)", "description": "This file defines a React component UploadContactsModal that allows users to upload contacts via CSV input. It provides a modal dialog with a textarea for CSV paste, processes the CSV, and dispatches an action to upload the contacts.", "external_files": ["../common/Modal", "../common/Button", "../common/TextArea", "../../state/slices/contactsSlice", "../../utils/csvParser"], "external_methods": ["parseCsv", "dispatch", "useDispatch", "useSelector", "uploadContacts"], "published": ["default"], "classes": [], "methods": [{"name": "onUpload", "description": "Asynchronously parses the CSV input, transforms it into contact objects, dispatches an upload action, and closes the modal upon success."}], "calls": ["parseCsv", "dispatch", "uploadContacts"], "search-terms": ["UploadContactsModal", "csvParser", "contactsSlice", "React", "Modal", "Button", "TextArea", "uploadContacts", "csv"], "state": 2, "file_id": 55, "knowledge_revision": 206, "git_revision": "865136f4e0e9bb706195bc109a1982ce430b4767", "revision_history": [{"124": ""}, {"172": "f530b46d156d67a5e024876d5cad074843104979"}, {"197": "865136f4e0e9bb706195bc109a1982ce430b4767"}, {"205": "865136f4e0e9bb706195bc109a1982ce430b4767"}, {"206": "865136f4e0e9bb706195bc109a1982ce430b4767"}], "ctags": [{"_type": "tag", "name": "UploadContactsModal", "path": "/home/kavia/workspace/code-generation/meta-whatsapp-messaging-suite-221679-221688/frontend_react/src/components/contacts/UploadContactsModal.js", "pattern": "/^const UploadContactsModal = ({ open, onClose, listId }) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "contacts", "path": "/home/kavia/workspace/code-generation/meta-whatsapp-messaging-suite-221679-221688/frontend_react/src/components/contacts/UploadContactsModal.js", "pattern": "/^    const contacts = parsed.rows.map(r => ({$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "dispatch", "path": "/home/kavia/workspace/code-generation/meta-whatsapp-messaging-suite-221679-221688/frontend_react/src/components/contacts/UploadContactsModal.js", "pattern": "/^  const dispatch = useDispatch();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "headerIdx", "path": "/home/kavia/workspace/code-generation/meta-whatsapp-messaging-suite-221679-221688/frontend_react/src/components/contacts/UploadContactsModal.js", "pattern": "/^    const headerIdx = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/meta-whatsapp-messaging-suite-221679-221688/frontend_react/src/components/contacts/UploadContactsModal.js", "pattern": "/^      name: parsed.headers.findIndex(h => h.toLowerCase() === 'name'),$/", "language": "JavaScript", "kind": "property", "scope": "headerIdx", "scopeKind": "class"}, {"_type": "tag", "name": "onUpload", "path": "/home/kavia/workspace/code-generation/meta-whatsapp-messaging-suite-221679-221688/frontend_react/src/components/contacts/UploadContactsModal.js", "pattern": "/^  const onUpload = async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "open", "path": "/home/kavia/workspace/code-generation/meta-whatsapp-messaging-suite-221679-221688/frontend_react/src/components/contacts/UploadContactsModal.js", "pattern": "/^    <Modal open={open} onClose={onClose} title=\"Upload Contacts\">$/", "language": "JavaScript", "kind": "field", "scope": "AnonymousClassd97f5cd80101", "scopeKind": "class"}, {"_type": "tag", "name": "open", "path": "/home/kavia/workspace/code-generation/meta-whatsapp-messaging-suite-221679-221688/frontend_react/src/components/contacts/UploadContactsModal.js", "pattern": "/^const UploadContactsModal = ({ open, onClose, listId }) => {$/", "language": "JavaScript", "kind": "field", "scope": "UploadContactsModal", "scopeKind": "class"}, {"_type": "tag", "name": "parsed", "path": "/home/kavia/workspace/code-generation/meta-whatsapp-messaging-suite-221679-221688/frontend_react/src/components/contacts/UploadContactsModal.js", "pattern": "/^    const parsed = parseCsv(csv, { delimiter: ',', header: true, limitRows: 0 });$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "phone", "path": "/home/kavia/workspace/code-generation/meta-whatsapp-messaging-suite-221679-221688/frontend_react/src/components/contacts/UploadContactsModal.js", "pattern": "/^      phone: parsed.headers.findIndex(h => h.toLowerCase() === 'phone'),$/", "language": "JavaScript", "kind": "property", "scope": "headerIdx", "scopeKind": "class"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/meta-whatsapp-messaging-suite-221679-221688/frontend_react/src/components/contacts/UploadContactsModal.js", "pattern": "/^    const res = await dispatch(uploadContacts({ listId, contacts }));$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setCsv", "path": "/home/kavia/workspace/code-generation/meta-whatsapp-messaging-suite-221679-221688/frontend_react/src/components/contacts/UploadContactsModal.js", "pattern": "/^  const [csv, setCsv] = useState('');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "uploading", "path": "/home/kavia/workspace/code-generation/meta-whatsapp-messaging-suite-221679-221688/frontend_react/src/components/contacts/UploadContactsModal.js", "pattern": "/^  const uploading = useSelector((s) => s.contacts.loading.upload);$/", "language": "JavaScript", "kind": "constant"}], "hash": "1502913910dcb29ebe2c6bf8eef335e1", "format-version": 4, "code-base-name": "frontend_react", "filename": "frontend_react/src/components/contacts/UploadContactsModal.js", "fields": [{"name": "name: parsed.headers.findIndex(h => h.toLowerCase() === 'name'),", "scope": "headerIdx", "scopeKind": "class", "description": "unavailable"}, {"name": "<Modal open={open} onClose={onClose} title=\"Upload Contacts\">", "scope": "AnonymousClassd97f5cd80101", "scopeKind": "class", "description": "unavailable"}, {"name": "const UploadContactsModal = ({ open, onClose, listId }) => {", "scope": "UploadContactsModal", "scopeKind": "class", "description": "unavailable"}, {"name": "phone: parsed.headers.findIndex(h => h.toLowerCase() === 'phone'),", "scope": "headerIdx", "scopeKind": "class", "description": "unavailable"}]}